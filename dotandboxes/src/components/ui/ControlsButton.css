/* 
 * Botón de Controles - Posición Fija Superior Derecha
 * Este archivo asegura que el botón de controles siempre esté visible
 * en la esquina superior derecha, sin importar otros estilos
 */

.controls-modal-trigger {
    /* POSICIÓN FIJA - NUNCA CAMBIAR */
    position: fixed !important;
    top: 1rem !important;
    right: 1rem !important;
    z-index: 999999 !important; /* Z-index ultra alto */
    
    /* ESTILOS VISUALES */
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(25px) !important;
    border: 2px solid rgba(255, 255, 255, 0.4) !important;
    border-radius: 50% !important;
    
    /* TAMAÑO Y ESPACIADO */
    width: 60px !important;
    height: 60px !important;
    min-width: 60px !important;
    min-height: 60px !important;
    
    /* CONTENIDO Y ALINEACIÓN */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 1.5rem !important;
    color: #667eea !important;
    
    /* INTERACCIÓN */
    cursor: pointer !important;
    pointer-events: auto !important;
    user-select: none !important;
    
    /* ANIMACIONES */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    transform-origin: center !important;
    
    /* SOMBRAS Y EFECTOS */
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.12),
        0 4px 16px rgba(102, 126, 234, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
    
    /* PREVENIR INTERFERENCIAS */
    margin: 0 !important;
    padding: 0 !important;
    float: none !important;
    clear: none !important;
    position: fixed !important; /* Redundante pero necesario */
    
    /* ACCESIBILIDAD */
    outline: none !important;
    -webkit-tap-highlight-color: transparent !important;
}

/* Estados de interacción */
.controls-modal-trigger:hover {
    transform: scale(1.1) translateZ(0) !important;
    background: rgba(255, 255, 255, 1) !important;
    box-shadow: 
        0 12px 48px rgba(0, 0, 0, 0.15),
        0 6px 24px rgba(102, 126, 234, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.7) !important;
    color: #5a6fd8 !important;
    border-color: rgba(255, 255, 255, 0.6) !important;
}

.controls-modal-trigger:active {
    transform: scale(0.95) translateZ(0) !important;
    box-shadow: 
        0 4px 16px rgba(0, 0, 0, 0.1),
        0 2px 8px rgba(102, 126, 234, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

.controls-modal-trigger:focus {
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.12),
        0 4px 16px rgba(102, 126, 234, 0.15),
        0 0 0 3px rgba(102, 126, 234, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
}

/* Responsive - mantener siempre visible */
@media (max-width: 480px) {
    .controls-modal-trigger {
        top: 0.75rem !important;
        right: 0.75rem !important;
        width: 52px !important;
        height: 52px !important;
        min-width: 52px !important;
        min-height: 52px !important;
        font-size: 1.3rem !important;
    }
}

@media (max-width: 320px) {
    .controls-modal-trigger {
        top: 0.5rem !important;
        right: 0.5rem !important;
        width: 48px !important;
        height: 48px !important;
        min-width: 48px !important;
        min-height: 48px !important;
        font-size: 1.2rem !important;
    }
}

/* Landscape móvil */
@media (max-height: 500px) and (orientation: landscape) {
    .controls-modal-trigger {
        top: 0.5rem !important;
        right: 0.5rem !important;
        width: 44px !important;
        height: 44px !important;
        min-width: 44px !important;
        min-height: 44px !important;
        font-size: 1.1rem !important;
    }
}

/* Pantallas grandes */
@media (min-width: 1200px) {
    .controls-modal-trigger {
        top: 1.5rem !important;
        right: 1.5rem !important;
        width: 64px !important;
        height: 64px !important;
        min-width: 64px !important;
        min-height: 64px !important;
        font-size: 1.6rem !important;
    }
}

/* Prevenir que otros estilos interfieran */
.layout-container .controls-modal-trigger,
.layout-content .controls-modal-trigger,
.tic-tac-toe-game .controls-modal-trigger,
.dots-box-game .controls-modal-trigger,
* .controls-modal-trigger {
    position: fixed !important;
    top: 1rem !important;
    right: 1rem !important;
    z-index: 999999 !important;
}

/* Asegurar que siempre esté por encima del modal */
.modal-backdrop ~ .controls-modal-trigger,
.controls-modal-trigger {
    z-index: 999999 !important;
}

/* Animaciones suaves */
@keyframes buttonPulse {
    0%, 100% {
        box-shadow: 
            0 8px 32px rgba(0, 0, 0, 0.12),
            0 4px 16px rgba(102, 126, 234, 0.15),
            inset 0 1px 0 rgba(255, 255, 255, 0.5);
    }
    50% {
        box-shadow: 
            0 10px 40px rgba(0, 0, 0, 0.15),
            0 6px 20px rgba(102, 126, 234, 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.6);
    }
}

/* Efecto sutil de respiración */
.controls-modal-trigger {
    animation: buttonPulse 4s ease-in-out infinite !important;
}

.controls-modal-trigger:hover {
    animation: none !important;
}

/* Modo de alto contraste */
@media (prefers-contrast: high) {
    .controls-modal-trigger {
        background: white !important;
        border: 3px solid black !important;
        color: black !important;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
    }
    
    .controls-modal-trigger:hover {
        background: #f0f0f0 !important;
        border-color: #333 !important;
    }
}

/* Modo sin movimiento */
@media (prefers-reduced-motion: reduce) {
    .controls-modal-trigger {
        animation: none !important;
        transition: none !important;
    }
    
    .controls-modal-trigger:hover {
        transform: none !important;
    }
    
    .controls-modal-trigger:active {
        transform: none !important;
    }
}
